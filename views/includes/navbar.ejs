<nav class="navbar navbar-expand-md bg-body-light border-bottom sticky-top">
    <div class="container-fluid">
        <div class="navbar-brand">
            <!-- <a class="" href="/"><i class="fa-regular fa-compass"></i></a> -->
            <a href="/home" class="site-name"><b>
                    <spna class="title-letter">W</spna>ander<span class="title-letter">B</span>litz
                </b></a>
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <!-- <div class="navbar-nav">
                <a class="nav-link" href="/">Home</a>
            </div> -->
            <div class="navbar-nav ms-auto">
                <!-- <a href="/mybookings" class="nav-link">My Bookings</a> -->
                <!-- <a class="nav-link" href="/listings">Explore</a> -->
                <a class="nav-link" href="/listings/new">WanderBlitz your home</a>
                <!-- <%if(!currUser){%>
                    <a class="nav-link" href="/signup"><b>Sign Up</b></a>
                    <a class="nav-link" href="/login"><b>Log in</b></a>
                    <%}%>
                        <%if(currUser){%>
                            <a class="nav-link" href="/logout"><b>Log out</b></a>
                            <%}%> -->
            </div>
        </div>
        <div class="position-relative">
            <button onclick="toggleDropdown()"
                class="position-relative flex items-center gap-2 border border-gray-300 rounded-full py-2 px-4 z-10 ham-menu">
                <%if(!currUser){%>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="1.5"
                    stroke="currentColor" class="w-6 h-6">
                    <path strokeLinecap="round" strokeLinejoin="round"
                        d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
                <%}%>
                <div class="bg-gray-500 text-white rounded-full border-gray-50 overflow-hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                    class="w-6 h-6 relative -bottom-1">
                    <path fill-rule="evenodd"
                    d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"
                    clip-rule="evenodd" />
                </svg>
            </div>
            <%if(currUser){%>
                <b>
                    <%=currUser.username%>
                </b>
                <%}%>
            </button>
            <div id="dropdown"
                class="hidden absolute top-full right-0 mt-2 transform translate-y-2 w-48 bg-white rounded-lg shadow-lg z-10">
                <a href="/listings" class="block py-2 px-4 text-gray-800 hover:bg-gray-200 transition duration-300"
                    style="margin-top: 0.5rem;"><i
                        class="fa-solid fa-location-dot"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Explore</b></a>
                <a href="/mybookings" class="block py-2 px-4 text-gray-800 hover:bg-gray-200 transition duration-300"
                    style="margin: 0.3rem 0;"><i
                        class="fa-solid fa-list-check"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>My
                        Bookings</b></a>
                <hr />
                <%if(!currUser){%>
                    <a href="/signup" class="block px-4 text-gray-800 hover:bg-gray-200 transition duration-300"
                        style="padding-bottom: 0.5rem;padding-top: 0.5rem;margin-top:0.5rem;"><i
                            class="fa-solid fa-user-plus"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Sign
                            Up</b></a>
                    <a href="/login" class="block px-4 text-gray-800 hover:bg-gray-200 transition duration-300"
                        style="margin-bottom: 0.5rem;padding-bottom: 0.5rem;padding-top: 0.5rem;"><i
                            class="fa-solid fa-right-to-bracket"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Login</b></a>
                    <%}%>
                        <%if(currUser){%>
                            <!-- <a class="nav-link" href="/logout"><b>Log out</b></a> -->
                            <a href="/logout" class="block px-4 text-gray-800 hover:bg-gray-200 transition duration-300"
                                style="margin: 0.5rem 0;padding:0.5rem 0;">
                                <div style="display: flex;align-items:center"><span class="material-symbols-outlined">
                                        logout
                                    </span>&nbsp;&nbsp;&nbsp;&nbsp;<b>Log out</b></div>
                            </a>
                            <%}%>
            </div>
        </div>
    </div>
</nav>

<script>
    // Function to toggle the dropdown
    function toggleDropdown() {
        var dropdown = document.getElementById("dropdown");
        dropdown.classList.toggle("hidden");
    }

    // Event listener to close dropdown when clicking anywhere on the screen
    document.body.addEventListener("click", function (event) {
        var dropdown = document.getElementById("dropdown");
        var button = document.querySelector(".position-relative button");

        // Check if the clicked element is not the dropdown or the button
        if (!dropdown.contains(event.target) && !button.contains(event.target)) {
            dropdown.classList.add("hidden");
        }
    });

</script>